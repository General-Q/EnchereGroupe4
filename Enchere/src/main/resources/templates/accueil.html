<!DOCTYPE html>



<html layout:decorate="~{layout.html}"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">



<head>



<title>EniEnchere</title>

</head>

<body>



	<main class ="main" layout:fragment="main">





		<div id="searchbar">



			<h2>Filtres :</h2>

			<form action="/encheres" class="formulaire">

				<input class="champ" type="text"
					placeholder="Le nom de l'article contient ?" /> <input
					class="bouton" type="submit" value="Valider" />
			<div>
			</form>
			<br>
			<form action="/encheres" class="formulaire">
    			<label for="categorie">Catégorie :</label>
    				<select id="categorie" name="categorie">
        				<option value="">Toutes les catégories</option>
        				<option th:each="categorie : ${categories}" 
       						    th:value="${categorie.no_categorie}" th:text="${categorie.libelle}"></option>
       						    <input
					class="bouton" type="submit" value="Valider" />
    				</select>
			</div>
			</form>
<br>
			<a href="nouvel_article">Vendre un article</a>
<br>
<!-- <a th:if="${utilisateurConnecte}" href="nouvel_article">Vendre un article</a><a th:unless="${utilisateurConnecte}" href="inscription">Vendre un article</a> -->
</div>
 

		<h1>Liste des enchères</h1>

<br>
 <div class="album py-5 bg-body-tertiary">
    <div class="container">

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <div class="col col-md-4" data-th-each="item: ${articlesVendus}">
          <div class="card shadow-sm">
<!--             <img class="image bd-placeholder-img card-img-top" th:src="@{'/images/' + ${item.no_categorie} + '.jpg'}" th:alt="${item.nom_article}" th:title="${item.nom_article}" style="background-color:grey;" width="100%" height="225" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"></img> -->
            <img class="image bd-placeholder-img card-img-top"src="/images/article.jpg" th:alt="${item.nom_article}" th:title="${item.nom_article}" style="background-color:grey;" width="100%" height="225" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"></img>
            	
<!--             	<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg> -->
<!--             		<title th:text="${item.nom_article}">Placeholder</title> -->
             			
             			<rect width="100%" height="100%" fill="#55595c"/>
							<text x="50%" y="50%" fill="#eceeef" dy=".3em" th:text="${item.nom_article}">ici, le titre de l'enchère</text>

           		</svg>
            
              <div class="card-body">
              <p class="card-text"th:text="${item.description}">Description de l'article.</p>
              
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
        
        <a th:href="@{detail_vente(articleVendu=${item.no_article})}">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Voir détails</button>
                </a>
                </div>
                <small class="text-body-secondary" th:if="${item.prix_vente == 0}" th:block>Pas d'enchère en cours. Prix initial : <span th:text="${item.prix_initial}"></span> Crédits</small>

                <small class="text-body-secondary" th:unless="${item.prix_vente == 0}" th:block>Montant de l'enchère : <span th:text="${item.prix_vente}"></span> Crédits</small>
              </div>
            </div>
          </div>
        </div>
        </div>
        </div>
        </div>
        		
<!--         <div> -->
<!-- 			<table class="articleList"> -->
<!-- 				<tr> -->
<!-- 					<th>Nom de l'article</th> -->
<!-- 					<th>Description</th> -->
<!-- 					Add more table headers as needed -->
<!-- 				</tr> -->
<!-- 				<tr th:each="article : ${articlesVendus}"> -->
<!-- 					<td th:text="${article.nom_article}"></td> -->
<!-- 					<td th:text="${article.description}"></td> -->
<!-- 					<td><img style=max-width:100px src="/images/mehdi.png"></img></td> -->

<!-- 					<td><a th:href="@{/detail_vente(articleVendu=${article.no_article})}">Détail de la Vente</a></td> -->

<!-- 				</tr> -->
<!-- 			</table> -->
<!-- 			<p th:if="${message}" th:text="${message}"></p> -->
<!-- 		</div> -->

</main>

</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
</html>